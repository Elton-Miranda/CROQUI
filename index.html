<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Croqui H√≠brido Pro</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><path d=%22M50 10 L20 80 M50 10 L80 80%22 stroke=%22%23660099%22 stroke-width=%228%22 stroke-linecap=%22round%22/><circle cx=%2250%22 cy=%2210%22 r=%226%22 fill=%22%2300ffff%22/></svg>">
    <link rel="stylesheet" href="css/style.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.19.3/package/dist/xlsx.full.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

    <button id="btnToggleUI" onclick="toggleUI()">üëÅÔ∏è</button>

    <div id="canvas-container">
        <canvas id="c"></canvas>
    </div>

    <div id="ui-container" class="glass-panel">
        
        <div class="ui-header">
            <h2 style="margin:0; font-size:14px; color:#660099;">CROQUI <span style="font-size:9px; color:#555;">APP</span></h2>
            <div class="ui-controls">
                <button onclick="novoCroqui()" class="btn-mini" style="background:#e74c3c;">üóëÔ∏è Limpar</button>
                <button onclick="abrirModalSalvar()" class="btn-mini" style="background:#27ae60;">üíæ Salvar</button>
            </div>
        </div>

        <div class="scroll-container">
            
            <div class="tool-section">
                <span class="section-title">CABOS</span>
                <div class="btn-grid">
                    <button id="btnInstall" class="btn-tool btn-red" onclick="ativarModoLinha('instalar')">Novo</button>
                    <button id="btnRet" class="btn-tool btn-green" onclick="ativarModoLinha('retirar')">Retirar</button>
                    <button id="btnCord" class="btn-tool btn-blue" onclick="ativarModoLinha('cordoalha')">Cordoalha</button>
                    </div>
            </div>

            <div class="tool-section">
                <span class="section-title">ETIQUETA</span>
                <div style="display:flex; flex-direction:column;">
                    <select id="tipoCabo" onchange="atualizarBitolas()" class="ui-select">
                        <option value="AS">CFOA AS</option>
                        <option value="DROP">DROP</option>
                    </select>
                    <div style="display:flex; gap:5px;">
                        <select id="bitolaCabo" class="ui-select" style="flex:1;"></select>
                        <button class="btn-tool" onclick="addEtiquetaCabo()" style="flex:1; background:#eee;">Inserir</button>
                    </div>
                </div>
            </div>

            <div class="tool-section">
                <span class="section-title">INFRA</span>
                <div class="btn-grid">
                    <button class="btn-tool" onclick="addPoste('XC')">Poste XC</button>
                    <button class="btn-tool" onclick="addPoste('XM')">Poste XM</button>
                    <button class="btn-tool" onclick="addSubidaLateral()">Subida</button>
                    <button class="btn-tool" onclick="addCS()">Cx. Sub</button>
                </div>
            </div>

            <div class="tool-section">
                <span class="section-title">CAIXAS</span>
                <div class="btn-grid">
                    <button class="btn-tool" onclick="addCEO(true)">CEO Ex.</button>
                    <button class="btn-tool" onclick="addCEO(false)">CEO Nova</button>
                </div>
            </div>

            <div class="tool-section">
                <span class="section-title">CTO</span>
                <div class="btn-grid ctop-row">
                    <button class="btn-color" style="background:#690169;" onclick="addCTOP('#690169','1:8')">1:8</button>
                    <button class="btn-color" style="background:#FF0000;" onclick="addCTOP('#FF0000','60/40')">60/40</button>
                    <button class="btn-color" style="background:#0000FF;" onclick="addCTOP('#0000FF','70/30')">70/30</button>
                    <button class="btn-color" style="background:#dedee0; color:#333;" onclick="addCTOP('#dedee0','80/20')">80/20</button>
                    <button class="btn-color" style="background:#FFFF00; color:#333;" onclick="addCTOP('#FFFF00','85/15')">85/15</button>
                    <button class="btn-color" style="background:#008000;" onclick="addCTOP('#008000','90/10')">90/10</button>
                </div>
            </div>

            <div class="tool-section">
                <span class="section-title">NOTAS</span>
                <div class="btn-grid">
                    <button class="btn-tool" onclick="addObservacao()">üìù Nota</button>
                    <button class="btn-tool" onclick="addNomeRua()">üÖ∞Ô∏è Rua</button>
                    <button class="btn-tool" onclick="ativarModoLinha('seta')">‚ÜóÔ∏è Seta</button>
                </div>
            </div>

            <div class="tool-section">
                <span class="section-title">MEDIDAS</span>
                <div class="btn-grid">
                    <button class="btn-tool" onclick="addMedida('instalado')">Inst.</button>
                    <button class="btn-tool" onclick="addMedida('retirado')">Ret.</button>
                    <button class="btn-tool" onclick="addMedida('cordoalha')">Cord.</button>
                </div>
            </div>

            <div class="tool-section">
                <span class="section-title">EXTRAS</span>
                <div class="btn-grid">
                    <button class="btn-tool" onclick="deleteSelected()" style="color:red;">Apagar Item</button>
                    <div style="display:flex; gap:2px;">
                        <button class="btn-tool" onclick="mudarPagina(-1)">‚óÄ</button>
                        <button class="btn-tool" onclick="mudarPagina(1)">‚ñ∂</button>
                    </div>
                    <button class="btn-tool" onclick="adicionarPagina()">+ P√°g</button>
                </div>
            </div>
            
            <div style="height: 50px;"></div> </div>
    </div>

    <div id="modalSalvar" class="modal">
        <div class="modal-content">
            <span class="close" onclick="fecharModais()">&times;</span>
            <h3>Salvar Projeto</h3>
            <div class="form-group">
                <input type="text" id="inputNome" placeholder="Nome T√©cnico">
                <input type="text" id="inputSobrenome" placeholder="Sobrenome">
            </div>
            <div class="form-group">
                <input type="text" id="inputRE" placeholder="RE">
                <input type="text" id="inputAT" placeholder="AT (√Årea)">
            </div>
            <div class="form-group">
                <input type="number" id="inputCabo" placeholder="Cabo">
                <input type="number" id="inputPrimaria" placeholder="Prim√°ria">
            </div>
            <input type="text" id="inputOcorrencia" placeholder="Ocorr√™ncia (Opcional)" style="width:100%; margin-top:5px;">
            <hr>
            <h4>Materiais Extras</h4>
            <div class="form-group">
                <input type="text" id="manualItem" placeholder="Item" style="flex:2">
                <input type="number" id="manualQtd" placeholder="Qtd" style="flex:1">
                <button onclick="addMaterialManual()" style="background:#660099; color:white;">+</button>
            </div>
            <ul id="listaMateriaisVisivel"></ul>
            <button class="btn-full" onclick="confirmarSalvar()">BAIXAR ARQUIVOS</button>
        </div>
    </div>

    <div id="page-indicator">P√°g 1</div>

    <script src="js/app.js"></script>
</body>
</html>